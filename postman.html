<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<form>
    <label for="name">Name</label>
    <input type="text" id="fname" name="name"><br>
    <label for="email">Email</label>
    <input type="email" id="em" name="email"><br>
    <label for="gender">Gender:</label>
    <input type="radio" name="gender" value="male">Male
    <input type="radio" name="gender" value="female">Female <br>
    <label for="status">status:</label>
    <input type="radio" name="stat" value="active">Active
    <input type="radio" name="stat" value="unactive">Unactive

</form>

<button type="button" id="btn1" onclick="get()">Get</button>
<button type="button" id="btn2" onclick="post()">post</button>

<body>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>

    <script>
        function get() {

            var settings = {
                url: "https://gorest.co.in/public/v2/users",
                method: "GET",
                timeout: 0,
                headers: {
                    Authorization: "Bearer 5b08025ddb7beae633c9a0942ceacc4b9af8135e14466c81f34ef42c6e3646d7"
                },
            };

            $.ajax(settings).done(function (response) {
                $("body>table").remove()
                var table = $("<table></table>");
                $(response).each(function (index, data) {
                    var row = $("<tr></tr>");
                    $("<td></td>").text(data.id).appendTo(row);
                    $("<td></td>").text(data.name).appendTo(row);
                    $("<td></td>").text(data.email).appendTo(row);
                    $("<td></td>").text(data.gender).appendTo(row);
                    $("<td></td>").text(data.status).appendTo(row);
                    $(row).appendTo(table)
                })
                $(table).appendTo($("body"))
            });
        }



        //post
        function post() {

            var name1 = $("#fname").val()
            var email1 = $("#em").val()
            var gender1 = $("input[name='gender']:checked").val()
            var status1 = $("input[name='stat']:checked").val()
            console.log(name1, email1, gender1, status1);
            var settings = {
                url: "https://gorest.co.in/public/v2/users",
                method: "POST",
                timeout: 0,
                headers: {
                    "Authorization": "Bearer 5b08025ddb7beae633c9a0942ceacc4b9af8135e14466c81f34ef42c6e3646d7",
                    "Content-Type": "application/json"
                },
                data: JSON.stringify({
                    name: name1,
                    email: email1,
                    gender: gender1,
                    status: status1
                }),
            };

            $.ajax(settings).done(function (response) {
                console.log(response);
                get();
            })
                .fail(function (error) {
                    console.log(error)
                });
        }


    </script>
</body>

</html>